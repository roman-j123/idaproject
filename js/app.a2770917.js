(function(e){function t(t){for(var c,d,i=t[0],s=t[1],l=t[2],u=0,f=[];u<i.length;u++)d=i[u],Object.prototype.hasOwnProperty.call(a,d)&&a[d]&&f.push(a[d][0]),a[d]=0;for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c]);o&&o(t);while(f.length)f.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],c=!0,i=1;i<r.length;i++){var s=r[i];0!==a[s]&&(c=!1)}c&&(n.splice(t--,1),e=d(d.s=r[0]))}return e}var c={},a={app:0},n=[];function d(t){if(c[t])return c[t].exports;var r=c[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,d),r.l=!0,r.exports}d.m=e,d.c=c,d.d=function(e,t,r){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},d.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(d.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)d.d(r,c,function(t){return e[t]}.bind(null,c));return r},d.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="/idaproject/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var o=s;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},2489:function(e,t,r){},"34f3":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var c=r("7a23"),a={class:"app__title"},n=["value"],d={class:"container"},i={class:"container__addcard"};function s(e,t,r,s,l,o){var u=Object(c["m"])("AddCard"),f=Object(c["m"])("CardList");return Object(c["i"])(),Object(c["e"])(c["a"],null,[Object(c["f"])("header",null,[Object(c["f"])("h2",a,Object(c["n"])(l.title),1),Object(c["q"])(Object(c["f"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.selected=e}),class:"filter"},[(Object(c["i"])(!0),Object(c["e"])(c["a"],null,Object(c["l"])(l.options,(function(e){return Object(c["i"])(),Object(c["e"])("option",{value:e.value,key:e.value},Object(c["n"])(e.text),9,n)})),128))],512),[[c["o"],l.selected]])]),Object(c["f"])("main",d,[Object(c["f"])("div",i,[Object(c["g"])(u,{"add-card":o.addCard},null,8,["add-card"])]),Object(c["g"])(f,{cards:o.cardsFiltered,removeCard:o.removeCard},null,8,["cards","removeCard"])])],64)}r("e9c4"),r("c740"),r("a434"),r("4e82"),r("d3b7"),r("f5df1");var l=function(e){return Object(c["k"])("data-v-1ef86622"),e=e(),Object(c["j"])(),e},o={key:0,class:"cardlist"},u={key:1,class:"cardlist-empty"},f=l((function(){return Object(c["f"])("h2",{class:"cardlist-empty__header"},"Сейчас тут пусто :(",-1)})),b=[f];function p(e,t,r,a,n,d){var i=Object(c["m"])("Card");return 0!==r.cards.length?(Object(c["i"])(),Object(c["e"])("ul",o,[(Object(c["i"])(!0),Object(c["e"])(c["a"],null,Object(c["l"])(r.cards,(function(e){return Object(c["i"])(),Object(c["c"])(i,{card:e,key:e.id,onRemoveCard:function(t){return r.removeCard(e.id)}},null,8,["card","onRemoveCard"])})),128))])):(Object(c["i"])(),Object(c["e"])("div",u,b))}r("9911"),r("a4d3"),r("e01a");var O={class:"cardlist__item card"},j=["src","alt"],_={class:"card__container"},h={class:"card__title"},m={class:"card__text"},v={class:"card__price"};function C(e,t,r,a,n,d){var i=this;return Object(c["i"])(),Object(c["e"])("li",O,[Object(c["f"])("button",{class:"card__delete",onClick:t[0]||(t[0]=function(t){return e.$emit("removeCard",i.index)})}),Object(c["f"])("img",{src:r.card.link,alt:r.card.title,class:"card__img"},null,8,j),Object(c["f"])("div",_,[Object(c["f"])("h2",h,Object(c["n"])(r.card.title),1),Object(c["f"])("p",m,Object(c["n"])(r.card.description),1),Object(c["f"])("span",v,Object(c["n"])(d.money(r.card.price)),1)])])}var k={props:["card","index"],methods:{money:function(e){var t=new Intl.NumberFormat("ru-RU").format(e);return e?"".concat(t," руб."):""}}},y=(r("7881"),r("6b0d")),g=r.n(y);const w=g()(k,[["render",C],["__scopeId","data-v-40f37462"]]);var x=w,V={props:{cards:Array,removeCard:Function},components:{Card:x}};r("daf7");const S=g()(V,[["render",p],["__scopeId","data-v-1ef86622"]]);var I=S,M=function(e){return Object(c["k"])("data-v-0a14b4d7"),e=e(),Object(c["j"])(),e},P={class:"addcard"},N={class:"addcard__block"},q=M((function(){return Object(c["f"])("div",{class:"addcard__label"},[Object(c["f"])("label",{for:"card-name",class:"addcard__title"},"Наименование товара"),Object(c["f"])("span",{class:"addcard__required"})],-1)})),F={key:0,class:"addcard__error"},J={class:"addcard__block"},T=M((function(){return Object(c["f"])("label",{for:"card-description",class:"addcard__title"},"Описание товара",-1)})),L={class:"addcard__block"},U=M((function(){return Object(c["f"])("div",{class:"addcard__label"},[Object(c["f"])("label",{for:"card-href",class:"addcard__title"},"Ссылка на изображение товара"),Object(c["f"])("span",{class:"addcard__required"})],-1)})),A={key:0,class:"addcard__error"},R={class:"addcard__block"},D=M((function(){return Object(c["f"])("div",{class:"addcard__label"},[Object(c["f"])("label",{for:"card-price",class:"addcard__title"},"Цена товара"),Object(c["f"])("span",{class:"addcard__required"})],-1)})),$={key:0,class:"addcard__error"},z=["disabled"];function B(e,t,r,a,n,d){return Object(c["i"])(),Object(c["e"])("div",P,[Object(c["f"])("form",{method:"POST",class:"addcard__form",novalidate:"true",onSubmit:t[7]||(t[7]=function(){return d.checkForm&&d.checkForm.apply(d,arguments)})},[Object(c["f"])("div",N,[q,Object(c["q"])(Object(c["f"])("input",{class:Object(c["h"])(["addcard__input",n.isValidName?"addcard__input_error":null]),type:"text",minlength:"5",maxlength:"25",id:"card-name","onUpdate:modelValue":t[0]||(t[0]=function(e){return n.newCard.title=e}),onInput:t[1]||(t[1]=function(e){return d.checkInput("title")}),placeholder:"Введите наименование товара"},null,34),[[c["p"],n.newCard.title]]),n.isValidName?(Object(c["i"])(),Object(c["e"])("p",F,Object(c["n"])(n.errorMessage),1)):Object(c["d"])("",!0)]),Object(c["f"])("div",J,[T,Object(c["q"])(Object(c["f"])("textarea",{class:"addcard__input addcard__input_description",type:"text",maxlength:"200",id:"card-description","onUpdate:modelValue":t[2]||(t[2]=function(e){return n.newCard.description=e}),placeholder:"Введите описание товара"},null,512),[[c["p"],n.newCard.description]])]),Object(c["f"])("div",L,[U,Object(c["q"])(Object(c["f"])("input",{class:Object(c["h"])(["addcard__input",n.isValidLink?"addcard__input_error":null]),type:"url",id:"card-href","onUpdate:modelValue":t[3]||(t[3]=function(e){return n.newCard.link=e}),onInput:t[4]||(t[4]=function(e){return d.checkInput("link")}),placeholder:"Введите ссылку"},null,34),[[c["p"],n.newCard.link]]),n.isValidLink?(Object(c["i"])(),Object(c["e"])("p",A,Object(c["n"])(n.errorMessage),1)):Object(c["d"])("",!0)]),Object(c["f"])("div",R,[D,Object(c["q"])(Object(c["f"])("input",{class:Object(c["h"])(["addcard__input",n.isValidPrice?"addcard__input_error":null]),type:"number",id:"card-price","onUpdate:modelValue":t[5]||(t[5]=function(e){return n.newCard.price=e}),onInput:t[6]||(t[6]=function(e){return d.checkInput("price")}),placeholder:"Введите цену"},null,34),[[c["p"],n.newCard.price]]),n.isValidPrice?(Object(c["i"])(),Object(c["e"])("p",$,Object(c["n"])(n.errorMessage),1)):Object(c["d"])("",!0)]),Object(c["f"])("button",{type:"submit",class:"addcard__button",disabled:!d.isValid}," Добавить товар ",8,z)],32)])}var E={data:function(){return{defaulCard:{title:"",description:"",link:"",price:null,id:null},newCard:{},formatedValue:"",isValidName:!1,isValidLink:!1,isValidPrice:!1,errorMessage:"Поле является обязательным"}},props:{addCard:Function},created:function(){this.newCard=JSON.parse(JSON.stringify(this.defaulCard))},methods:{checkInput:function(e){switch(e){case"title":this.isValidName=!this.newCard.title;break;case"link":this.isValidLink=!this.newCard.link;break;case"price":this.isValidPrice=!this.newCard.price;break}},checkForm:function(e){e.preventDefault(),this.addCard(this.newCard),this.newCard=JSON.parse(JSON.stringify(this.defaulCard))}},computed:{isValid:function(){return this.newCard.title&&this.newCard.link&&this.newCard.price}}};r("d1a6");const G=g()(E,[["render",B],["__scopeId","data-v-0a14b4d7"]]);var H=G,K={name:"App",components:{CardList:I,AddCard:H},data:function(){return{title:"Добавление товара",selected:"default",options:[{text:"По умолчанию",value:"default"},{text:"По возрастанию цены",value:"minToMax"},{text:"По убыванию цены",value:"maxToMin"}],cards:[]}},created:function(){var e=localStorage.getItem("cards");e&&(this.cards=JSON.parse(e)),this.$watch("cards",(function(e){localStorage.setItem("cards",JSON.stringify(e))}),{deep:!0})},methods:{addCard:function(e){e.id=this.max_id+1,console.log(e),this.cards.push(e),console.log(this.cards)},removeCard:function(e){if(confirm("Delete card ?")){var t=this.cards.findIndex((function(t){return t.id===e}));this.cards.splice(t,1)}}},computed:{cardsFiltered:function(){switch(this.selected){case"default":return this.cards.sort((function(e,t){return e.id-t.id}));case"minToMax":return this.cards.sort((function(e,t){return e.price-t.price}));case"maxToMin":return this.cards.sort((function(e,t){return t.price-e.price}));default:return this.cards}},max_id:function(){return 0===this.cards.lenght?1:this.cards.reduce((function(e,t){return t.id>e?t.id:e}),0)}}};r("c7be");const Q=g()(K,[["render",s]]);var W=Q;Object(c["b"])(W).mount("#app")},"60bb":function(e,t,r){},7881:function(e,t,r){"use strict";r("34f3")},c7be:function(e,t,r){"use strict";r("2489")},d1a6:function(e,t,r){"use strict";r("dc82")},daf7:function(e,t,r){"use strict";r("60bb")},dc82:function(e,t,r){}});
//# sourceMappingURL=app.a2770917.js.map